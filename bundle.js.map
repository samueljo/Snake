{"version":3,"sources":["webpack:///webpack/bootstrap 380745eed6db3f8bc727","webpack:///./js/main.js","webpack:///./js/snake-view.js","webpack:///./js/board.js","webpack:///./js/snake.js","webpack:///./js/coord.js","webpack:///./js/apple.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,EAAC;;;;;;;ACRD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAmB,uCAAuC;AAC1D;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,qBAAoB,OAAO;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4BAA2B,cAAc;;AAEzC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAmB,sBAAsB;AACzC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,eAAc;AACd;;AAEA;;;;;;;ACtJA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA;;AAEA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA,oBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,eAAc;AACd;AACA;AACA;;AAEA;;;;;;;ACxEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnCA;;AAEA;AACA;AACA;AACA;AACA;;AAEA","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 380745eed6db3f8bc727\n **/","const View = require('./snake-view');\n\n$jo( () => {\n  const view = new View($jo('.grid'));\n  view.drawBoard();\n  $jo(window).on(\"keydown\", function(e) {\n    view.handleKeyEvent(e);\n  });\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/","const Board = require('./board.js');\n\nclass View {\n  constructor($el) {\n    this.$el = $el;\n    this.initialGameConfig();\n  }\n\n  initialGameConfig() {\n    this.board = new Board(20);\n    this.points = 0;\n    this.setupBoard();\n    this.playing = false;\n  }\n\n  restart() {\n    this.$el.empty();\n    this.initialGameConfig();\n    this.drawBoard();\n  }\n\n  isValidDir(keyCode) {\n    return Object.keys(View.MOVES).includes(keyCode);\n  }\n\n  handleKeyEvent(e) {\n    // $jo(window).off\n    $jo(window).off(\"keydown\", function(event) {\n      this.handleKeyEvent(event);\n    }.bind(this));\n    if (e.keyCode === 32 && this.lost()) {\n      this.restart();\n      this.togglePause();\n    } else if (e.keyCode === 32 && !this.lost()) {\n      this.togglePause(e);\n    } else if (this.isValidDir(e.keyCode.toString()) && this.playing) {\n      const direction = e.keyCode;\n      this.board.snake.turn(View.MOVES[direction]);\n    } else {\n      this.keyEvent();\n    }\n  }\n\n  togglePause(e) {\n    if (this.playing) {\n      this.playing = false;\n      window.clearInterval(this.intervalID);\n      this.keyEvent();\n      const $h3 = $jo('<h3>');\n      $h3.addClass('notice pause');\n      $h3.text('Paused');\n      this.$el.append($h3);\n    } else {\n      this.playing = true;\n      this.intervalID = window.setInterval(this.step.bind(this), 75);\n      $jo('.notice').remove();\n    }\n\n  }\n\n  keyEvent() {\n    $jo(window).on(\"keydown\", function(event) {\n      this.handleKeyEvent(event);\n    }.bind(this));\n  }\n\n  setupBoard() {\n    const $h3 = $jo('<h3>');\n    $h3.addClass('notice start');\n    $h3.text('Hit Space to Start');\n    this.$el.append($h3);\n\n    const $board = $jo('<ul>');\n    $board.addClass('board group');\n\n    for (let i = 0; i < this.board.size * this.board.size; i++) {\n      let $joi = $jo('<li>');\n      $joi.addClass('tile');\n      $board.append($joi);\n    }\n\n    this.$el.append($board);\n\n    const points = this.points;\n    const $points = $jo('<h2>');\n    $points.addClass('points');\n    $points.text(`${points}`);\n    this.$el.append($points);\n  }\n\n  step() {\n    if (this.lost()) {\n      window.clearInterval(this.intervalID);\n      window.alert('You lost!');\n      const $h3 = $jo('<h3>');\n      $h3.addClass('notice restart');\n      $h3.text('Restart');\n      this.$el.append($h3);\n      this.keyEvent();\n    } else {\n      this.keyEvent();\n      this.board.snake.move();\n      if (this.board.eatsApple()) {\n        this.points += 10;\n      }\n      this.drawBoard();\n    }\n  }\n\n  lost() {\n    if (this.board.snake.hitSelf() || this.board.snake.hitWall()) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  getLiIndex(coord) {\n    return coord.yPos * this.board.size + coord.xPos;\n  }\n\n  drawBoard() {\n    $jo('.points').text(`${ this.points }`);\n\n    const snakeSegs = this.board.snake.segments;\n    const appleIdx = this.getLiIndex(this.board.apple.coord);\n\n    $jo('li').removeClass('snake-head');\n    $jo('li').removeClass('snake');\n    $jo('li').removeClass('apple');\n\n    const apple = $jo($jo('li').get(appleIdx));\n    apple.addClass('apple');\n\n    for (let i = 0; i < snakeSegs.length; i++) {\n      let snakeIdx = this.getLiIndex(snakeSegs[i]);\n      let snakeLi = $jo($jo('li').get(snakeIdx));\n\n      if (i === 0) {\n        snakeLi.addClass('snake-head');\n      }\n\n      snakeLi.addClass('snake');\n    }\n  }\n}\n\nView.MOVES = { 37: \"W\", 38: \"N\", 39: \"E\", 40: \"S\" };\n            // left: 37, up: 38, right: 39, down: 40\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake-view.js\n ** module id = 1\n ** module chunks = 0\n **/","const Snake = require('./snake.js');\nconst Apple = require('./apple.js');\n\nclass Board {\n  constructor(size) {\n    this.size = size;\n    this.snake = new Snake(this);\n    this.addApple();\n  }\n\n  isValidApple(coord) {\n    for (let i = 0; i < this.snake.segments.length; i++) {\n      if (this.snake.segments[i].equals(coord)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  addApple() {\n    this.apple = new Apple(this.size);\n    while (!this.isValidApple(this.apple.coord)) {\n      this.apple = new Apple(this.size);\n    }\n  }\n\n  eatsApple() {\n    if (this.snake.segments[0].equals(this.apple.coord)) {\n      this.snake.grow();\n      this.addApple();\n      return true;\n    }\n    return false;\n  }\n}\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/board.js\n ** module id = 2\n ** module chunks = 0\n **/","const Coord = require('./coord');\n\nclass Snake {\n  constructor(board) {\n    this.direction = \"N\"; // direction is key in DIRS (i.e. \"N\")\n    this.segments = [ new Coord(Math.floor(board.size / 2),\n                                Math.floor(board.size / 2))];\n    this.setHead();\n  }\n\n  move() {\n    this.segments.unshift(this.nextMoveCoord());\n    if (this.growing) {\n      this.growing--;\n    } else {\n      this.segments.pop();\n    }\n    this.setHead();\n  }\n\n  turn(newDirection) {\n    if (Snake.DIRS[this.direction].isOpposite(Snake.DIRS[newDirection])) {\n      this.direction = this.direction;\n    } else {\n      this.direction = newDirection;\n    }\n  }\n\n  hitSelf() {\n    for (let i = 0; i < this.segments.length; i++) {\n      if (this.segments[i].equals(this.nextMoveCoord())) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  hitWall() {\n    const newCoord = this.nextMoveCoord();\n\n    if (\n      newCoord.xPos < 0 ||\n      newCoord.yPos < 0 ||\n      newCoord.xPos > 19 ||\n      newCoord.yPos > 19\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  nextMoveCoord() {\n    const incCoord = Snake.DIRS[this.direction];\n    return this.segments[0].plus(incCoord);\n  }\n\n  grow() {\n    this.growing = 3;\n  }\n\n  setHead() {\n    this.head = this.segments[0];\n  }\n\n}\n\nSnake.DIRS = {  \"N\": new Coord(0, -1),\n                \"S\": new Coord(0, 1),\n                \"E\": new Coord(1, 0),\n                \"W\": new Coord(-1, 0)};\n\nmodule.exports = Snake;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake.js\n ** module id = 3\n ** module chunks = 0\n **/","class Coord {\n  constructor(xPos, yPos, boardSize) {\n    this.xPos = xPos;\n    this.yPos = yPos;\n    this.boardSize = boardSize;\n  }\n\n  plus(otherCoord) {\n    const newX = this.xPos + otherCoord.xPos;\n    const newY = this.yPos + otherCoord.yPos;\n    const newCoord = new Coord(newX, newY);\n    return newCoord;\n  }\n\n  equals(otherCoord) {\n    return ((this.xPos === otherCoord.xPos) && (this.yPos === otherCoord.yPos));\n  }\n\n  isOpposite(otherCoord) {\n    if (otherCoord.xPos + this.xPos === 0 && otherCoord.yPos + this.yPos === 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  static randomCoord(boardSize) {\n    const min = Math.ceil(0);\n    const max = Math.floor(boardSize);\n    const xPos = Math.floor(Math.random() * (max - min)) + min;\n    const yPos = Math.floor(Math.random() * (max - min)) + min;\n    return new Coord(xPos, yPos);\n  }\n}\n\nmodule.exports = Coord;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/coord.js\n ** module id = 4\n ** module chunks = 0\n **/","const Coord = require('./coord');\n\nclass Apple {\n  constructor(boardSize) {\n    this.coord = Coord.randomCoord(boardSize);\n  }\n}\n\nmodule.exports = Apple;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/apple.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}